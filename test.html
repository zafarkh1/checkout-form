<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Checkout Form</title>
	<style>
		/* Add your CSS styling here */
		body {
			font-family: Arial, sans-serif;
		}

		.tab {
			padding: 10px;
			border: 1px solid #ccc;
			cursor: pointer;
			display: inline-block;
			margin-right: 5px;
		}

		.active-tab {
			background-color: #007bff;
			color: white;
		}

		.tab-content {
			display: none;
			margin-top: 10px;
			border: 1px solid #ccc;
			padding: 10px;
		}

		.tab-content.active {
			display: block;
		}

		.tooltip {
			display: none;
			position: absolute;
			background-color: #f9f9f9;
			border: 1px solid #ccc;
			padding: 5px;
			z-index: 1;
			width: 150px;
			top: 2em;
			right: 0;
		}

		.cvv:hover .tooltip {
			display: block;
		}

		.modal {
			display: none;
			position: fixed;
			z-index: 1;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			overflow: auto;
			background-color: rgb(0, 0, 0);
			background-color: rgba(0, 0, 0, 0.4);
			padding-top: 60px;
		}

		.modal-content {
			background-color: #fefefe;
			margin: 5% auto;
			padding: 20px;
			border: 1px solid #888;
			width: 80%;
		}

		.close {
			color: #aaaaaa;
			float: right;
			font-size: 28px;
			font-weight: bold;
		}

		.close:hover,
		.close:focus {
			color: #000;
			text-decoration: none;
			cursor: pointer;
		}

		#placeOrderBtn {
			background-color: #f44336;
			color: white;
			padding: 14px 20px;
			margin: 8px 0;
			border: none;
			cursor: pointer;
			width: 100%;
		}

		#placeOrderBtn:hover {
			opacity: 0.8;
		}

		.terms-modal {
			cursor: pointer;
			color: #0645ad;
			text-decoration: underline;
		}

		.terms-modal:hover {
			text-decoration: none;
		}
	</style>
</head>

<body>

	<div>
		<div class="tab active-tab" onclick="openTab(event, 'credit')">Credit Card</div>
		<div class="tab" onclick="openTab(event, 'gift')">Gift Card</div>
		<div class="tab" onclick="openTab(event, 'paypal')">PayPal</div>
	</div>

	<div id="credit" class="tab-content active">
		<form id="creditCardForm">
			<div>
				<label for="cardNumber">Card number</label>
				<input type="text" id="cardNumber" name="cardNumber" required pattern="\d{4} \d{4} \d{4} \d{4}"
					placeholder="1234 5678 9012 3456">
			</div>
			<div>
				<label for="cardExpiry">Valid thru (mm/yy)</label>
				<input type="text" id="cardExpiry" name="cardExpiry" required pattern="\d{2}/\d{2}" placeholder="MM/YY">
			</div>
			<div class="cvv">
				<label for="cvv">CVV/CVC</label>
				<input type="text" id="cvv" name="cvv" required pattern="\d{3}" placeholder="CVV">
				<span class="tooltip">The CVV Number is a 3 digit number on the back of your card.</span>
			</div>
			<div>
				<label for="cardHolder">Cardholder's name</label>
				<input type="text" id="cardHolder" name="cardHolder" required>
			</div>
			<div>
				<input type="checkbox" id="terms" name="terms">
				<label for="terms" class="terms-modal" onclick="showModal()">I accept the Terms and Conditions</label>
			</div>
			<div>
				<button type="button" id="placeOrderBtn" onclick="validateForm()">Place order ($624.99)</button>
			</div>
		</form>
	</div>

	<div id="gift" class="tab-content">
		<!-- Gift card content goes here (if any) -->
	</div>

	<div id="paypal" class="tab-content">
		<!-- PayPal content goes here (if any) -->
	</div>

	<!-- The Modal -->
	<div id="myModal" class="modal">
		<!-- Modal content -->
		<div class="modal-content">
			<span class="close" onclick="closeModal()">&times;</span>
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
		</div>
	</div>

	<script>
		// Add your JavaScript here
		function openTab(evt, tabName) {
			var i, tabcontent, tablinks;
			tabcontent = document.getElementsByClassName("tab-content");
			for (i = 0; i < tabcontent.length; i++) {
				tabcontent[i].style.display = "none";
			}
			tablinks = document.getElementsByClassName("tab");
			for (i = 0; i < tablinks.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(" active-tab", "");
			}
			document.getElementById(tabName).style.display = "block";
			evt.currentTarget.className += " active-tab";
		}

		function showModal() {
			document.getElementById("myModal").style.display = "block";
		}

		function closeModal() {
			document.getElementById("myModal").style.display = "none";
		}

		function validateForm() {
			var form = document.getElementById('creditCardForm');
			if (form.checkValidity() && document.getElementById('terms').checked) {
				alert('Form is valid and terms are accepted. Proceeding with payment...');
				// Add actual payment processing logic here
			} else {
				alert('Please fill all the fields correctly and accept the Terms and Conditions.');
			}
		}

		// Auto-format the credit card number as the user types
		document.getElementById('cardNumber').addEventListener('input', function (e) {
			var target = e.target, position = target.selectionEnd, length = target.value.length;
			target.value = target.value.replace(/\D/g, '').replace(/(\d{4})(?=\d)/g, '$1 ');
			if (position <= length) {
				target.setSelectionRange(position, position);
			}
		});

		// Auto-format the CVV as the user types
		document.getElementById('cvv').addEventListener('input', function (e) {
			e.target.value = e.target.value.replace(/\D/g, '').slice(0, 3);
		});

		// Auto-format the card expiry date as the user types
		document.getElementById('cardExpiry').addEventListener('input', function (e) {
			var target = e.target, position = target.selectionEnd;
			target.value = target.value.replace(/\D/g, '').replace(/(\d{2})(?=\d)/g, '$1/');
			if (position <= target.value.length) {
				target.setSelectionRange(position, position);
			}
		});
	</script>

</body>

</html>